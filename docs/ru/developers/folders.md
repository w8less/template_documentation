
# Использование ftp структуры для работы с шаблоном

Если вы являетесь авторизованным front-end разработчиком, вам будет предоставлен FTP-доступ к вашей тестовой среде.

точнее :
- host
- login
- password

- также вам нужно сообщить ваш ip адрес и получить по нему доступ (узнать можно тут https://whoer.net/ru). Без доступа по ip вы не сможете подключится к ftp 

Подключение к ftp:
1) Вам нужно будет установить приложнеие FileZilla или другое (например, WinScp в котором можно использовать синхронизацию с локальным проектом)
2) Введите host, login, password
3) Подключайтесь

Создавайте отдельные папки для разных шаблонов.

Шаблон должен содержать файл [settings.json] (../ settings / settings.md) для правильного отображения.
Или вы можете просто клонировать этот или другой шаблон и загрузить в папку.


## Выбор папки

Вы должны быть авторизованы на сайте как разработчик: авторизируйтесь в админ-панели сайта http://admin.totalcan.com/,
и нажмите любую ссылку, которая перенаправляет на сайт, например, ту что рядом с названием сайта.
Затем вы можете получить доступ к своим шаблонам в папках ftp по этому адресу: `/ ajax / developer_templates /`

замечание:
если вы не нажмете любую ссылку, которая перенаправляет на сайт
или же
если вы неактивны некоторое время.
Вы поймаете ошибку "Forbidden (#403)"

По умолчанию выбран default template, в папках ftp по этому адресу: `/ ajax / developer_templates /` вы сможете выбрать свою папку (шаблон)

`$user.developer_templates` - переменная предоставляет адрес для доступа к списку опций, может использоваться как обычная ссылка на страницу или ajax json/jsonp запрос

```html
<!-- убедитесь, что пользователь является разработчиком, а не гостем или клиентом: -->
<{if $user.is_developer}>
    ... your html/js code etc ...
    for example:
    <a href="<{$user.developer_templates}>" target="_blank">
        Change template folder
    </a>
<{/if}>
```


## AJAX implementation

Если вы запрашиваете URL с помощью ajax, сервер предоставит данные:

```json
{
    "options": {
        "dafault": {
            "id": "",
            "base": "developer folder",
            "folder": "your custom folder",
            "post_url": "relative url",
            "is_active": "bool, if this option active now"
        },
        "key": "option",
        "key": "option",
        "key": "option",
        "key": "option"
    },
    "post": {
        "key": "data",
        "key": "data",
        "key": "data"
    }
}
```


`options.default` - шаблон сайта по умолчанию, установленный на панели

`options.key` - список папок, которые вы создали на ftp/s, к которым у вас есть доступ

`options.key.base` - базовый каталог, к которому у вас есть доступ к ftp, если у вас несколько ftps

`options.key.folder` - имя каталога, который вы создали

`options.key.post_url` - POST запрос, относительный URL-адрес в случае, если изменяете шаблон

`options.key.is_active` - bool, если опция активна 

`options.post` - данные, которые вы должны предоставить для POST запроса


[На главную](../начало.md)
